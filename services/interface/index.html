<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√âvaluation de Cr√©dit Immobilier</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>üè¶ √âvaluation de Cr√©dit Immobilier</h1>
                <div class="service-status">
                    <span id="statusIndicator" class="status-dot"></span>
                    <span id="statusText">Initialisation...</span>
                </div>
            </div>
        </header>

        <main>
            <section class="form-section" id="formSection">
                <h2>Soumettre une demande</h2>
                <form id="loanForm">
                    <div class="form-group">
                        <label for="requestText">Informations de demande *</label>
                        <textarea id="requestText" rows="9" required>CLIENT_ID:
LOAN_AMOUNT:
LOAN_DURATION:
PROPERTY_ADDRESS:
PROPERTY_DESCRIPTION:
PROPERTY_SURFACE:
CONSTRUCTION_YEAR:</textarea>
                        <p class="form-help">Remplissez les valeurs apr√®s les deux points. Tous les champs sont obligatoires.</p>
                    </div>

                    <button type="submit" class="btn-submit">üìä √âvaluer la demande</button>
                </form>
            </section>

            <section class="result-section" id="resultSection" style="display: none;">
                <div class="decision-brick">
                    <div class="brick-header">
                        <h3 id="decisionTitle"></h3>
                        <p id="decisionNumber" class="decision-number"></p>
                    </div>
                    <div class="brick-content">
                        <div class="motif-section">
                            <p class="motif-label">Motif:</p>
                            <p id="decisionReason" class="motif-text"></p>
                        </div>
                        <button type="button" class="btn-toggle-details" onclick="toggleAnalysis()">
                            üìñ Afficher l'analyse d√©taill√©e
                        </button>
                    </div>
                </div>

                <div class="analysis-section" id="analysisSection" style="display: none;">
                    <h3>üìù Analyse D√©taill√©e</h3>
                    <div class="analysis-box" id="explanations"></div>
                </div>

                <div class="summary-grid">
                    <div class="summary-card">
                        <h4>üí≥ Score de Cr√©dit</h4>
                        <p id="creditScore" class="score-value">-</p>
                    </div>
                    <div class="summary-card">
                        <h4>‚úì Solvabilit√©</h4>
                        <p id="solvencyStatus">-</p>
                    </div>
                    <div class="summary-card">
                        <h4>üè† √âvaluation Propri√©t√©</h4>
                        <p id="propertyValue">-</p>
                    </div>
                    <div class="summary-card">
                        <h4>‚öñÔ∏è Niveau de Risque</h4>
                        <p id="riskLevel">-</p>
                    </div>
                </div>

                <div class="email-notification">
                    <p>üìß <strong>Copie de cette notification</strong> a √©t√© envoy√©e √† : <span id="clientEmail" class="email-highlight">-</span></p>
                </div>

                <button type="button" class="btn-new-request" onclick="resetForm()">‚Üê Nouvelle demande</button>
            </section>

            <section class="loading" id="loading" style="display: none;">
                <div class="spinner"></div>
                <h3>Traitement en cours...</h3>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
                <p id="progressText">Initialisation du traitement...</p>
            </section>

            <section class="error" id="errorSection" style="display: none;">
                <div class="error-content">
                    <h3>‚ö†Ô∏è Erreur de Traitement</h3>
                    <p id="errorMessage"></p>
                    <button type="button" class="btn-retry" onclick="retryRequest()">‚Üª R√©essayer</button>
                </div>
            </section>
        </main>

        <footer>
            <p>Plateforme s√©curis√©e d'√©valuation de cr√©dit ‚Ä¢ Traitement automatis√© et confidentiel</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
